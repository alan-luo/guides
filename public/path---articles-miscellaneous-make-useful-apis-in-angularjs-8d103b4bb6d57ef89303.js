webpackJsonp([282],{"./node_modules/json-loader/index.js!./.cache/json/articles-miscellaneous-make-useful-apis-in-angularjs.json":function(e,n){e.exports={data:{markdownRemark:{html:"<p>There are two more things you have to do before this to be useful to you, however. Say you want to show all the <em>things</em> associated with the username requested with that page: you must first</p>\n<ol>\n<li>\n<p>Have a \"username\" or \"owner\" field in your <em>thing</em> schema at <code>/server/api/thing/thing.model.js</code></p>\n</li>\n<li>\n<p>Write a custom route in <code>/server/api/thing/index.js</code> to catch a request for a specific username. The request from your frontend might look something like:</p>\n<p>$http.get('/api/things/' + username).success( â€¦ )</p>\n</li>\n</ol>\n<p>so you'll add a line into your <code>index.js</code> like:</p>\n<pre><code>router.get('/:user', controller.indexUser);\n</code></pre>\n<p>and then in <code>thing.controller.js</code> you'll write an <em>exports.indexUser</em> function like so:</p>\n<pre><code>exports.indexUser = function(req, res) {\n    Thing.find({owner:req.params.user}, function (err, things) {\n        if(err) return res.send(500, err);\n        res.json(200, things);\n    });\n};\n</code></pre>\n<p>Warning!!! this method only works right if usernames are absolutely unique between users. The default authentication system that comes with the angular-fullstack generator does not have unique usernames, so you're probably better off using the <em>user.</em>id_ field to determine unique users in your database for now, unless you want to implement unique user names yourself by altering your <code>/api/user/user.model.js</code>, <code>/api/user/user.controller.js</code>, and your <code>/app/client/account/signup/signup.controller.js</code>. Thankfully, you should know how to go about doing all that after reading this guide!</p>",frontmatter:{title:"Make Useful Apis In Angularjs",parent:"/home/stuart/guides/src/pages/articles/miscellaneous/make-useful-apis-in-angularjs/index.md absPath of file"}}},pathContext:{slug:"/articles/miscellaneous/make-useful-apis-in-angularjs/"}}}});
//# sourceMappingURL=path---articles-miscellaneous-make-useful-apis-in-angularjs-8d103b4bb6d57ef89303.js.map